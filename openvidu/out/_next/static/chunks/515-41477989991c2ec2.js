"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[515],{9154:function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNative=void 0;var e="undefined"!=typeof window&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition);t.isNative=function(n){return n===e},t.default=e},4099:function(n,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r=(i=e(1983))&&i.__esModule?i:{default:i},o=e(1665),s=e(9154);function a(n,t,e,i,r,o,s){try{var a=n[o](s),c=a.value}catch(n){e(n);return}a.done?t(c):Promise.resolve(c).then(i,r)}function c(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function s(n){a(o,i,r,s,c,"next",n)}function c(n){a(o,i,r,s,c,"throw",n)}s(void 0)})}}function u(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var l=function(){var n,t,e,i,a,l;function p(n){!function(n,t){if(!(n instanceof t))throw TypeError("Cannot call a class as a function")}(this,p),this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=function(){},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(n),(0,r.default)()&&(this.updateFinalTranscript=(0,o.debounce)(this.updateFinalTranscript,250,!0))}return a=[{key:"setSpeechRecognition",value:function(n){var t=!!n&&((0,s.isNative)(n)||(0,o.browserSupportsPolyfills)());t&&(this.disableRecognition(),this.recognition=new n,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(t)}},{key:"subscribe",value:function(n,t){this.subscribers[n]=t}},{key:"unsubscribe",value:function(n){delete this.subscribers[n]}},{key:"emitListeningChange",value:function(n){var t=this;this.listening=n,Object.keys(this.subscribers).forEach(function(e){(0,t.subscribers[e].onListeningChange)(n)})}},{key:"emitMicrophoneAvailabilityChange",value:function(n){var t=this;this.isMicrophoneAvailable=n,Object.keys(this.subscribers).forEach(function(e){(0,t.subscribers[e].onMicrophoneAvailabilityChange)(n)})}},{key:"emitTranscriptChange",value:function(n,t){var e=this;Object.keys(this.subscribers).forEach(function(i){(0,e.subscribers[i].onTranscriptChange)(n,t)})}},{key:"emitClearTranscript",value:function(){var n=this;Object.keys(this.subscribers).forEach(function(t){(0,n.subscribers[t].onClearTranscript)()})}},{key:"emitBrowserSupportsSpeechRecognitionChange",value:function(n){var t=this;Object.keys(this.subscribers).forEach(function(e){var i=t.subscribers[e],r=i.onBrowserSupportsSpeechRecognitionChange,o=i.onBrowserSupportsContinuousListeningChange;r(n),o(n)})}},{key:"disconnect",value:function(n){if(this.recognition&&this.listening)switch(n){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;default:this.pauseAfterDisconnect=!0,this.stop()}}},{key:"disableRecognition",value:function(){this.recognition&&(this.recognition.onresult=function(){},this.recognition.onend=function(){},this.recognition.onerror=function(){},this.listening&&this.stopListening())}},{key:"onError",value:function(n){n&&n.error&&"not-allowed"===n.error&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}},{key:"onRecognitionDisconnect",value:function(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}},{key:"updateTranscript",value:function(n){var t=n.results,e=n.resultIndex,i=void 0===e?t.length-1:e;this.interimTranscript="",this.finalTranscript="";for(var s=i;s<t.length;++s)t[s].isFinal&&(!(0,r.default)()||t[s][0].confidence>0)?this.updateFinalTranscript(t[s][0].transcript):this.interimTranscript=(0,o.concatTranscripts)(this.interimTranscript,t[s][0].transcript);var a=!1;""===this.interimTranscript&&""!==this.finalTranscript?(this.previousResultWasFinalOnly&&(a=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,a||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}},{key:"updateFinalTranscript",value:function(n){this.finalTranscript=(0,o.concatTranscripts)(this.finalTranscript,n)}},{key:"resetTranscript",value:function(){this.disconnect("RESET")}},{key:"startListening",value:(n=c(regeneratorRuntime.mark(function n(){var t,e,i,r,o,s,a=arguments;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=void 0!==(e=(t=a.length>0&&void 0!==a[0]?a[0]:{}).continuous)&&e,r=t.language,this.recognition){n.next=3;break}return n.abrupt("return");case 3:if(o=i!==this.recognition.continuous,s=r&&r!==this.recognition.lang,!(o||s)){n.next=11;break}if(!this.listening){n.next=9;break}return n.next=9,this.stopListening();case 9:this.recognition.continuous=o?i:this.recognition.continuous,this.recognition.lang=s?r:this.recognition.lang;case 11:if(this.listening){n.next=22;break}return this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript()),n.prev=13,n.next=16,this.start();case 16:this.emitListeningChange(!0),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(13),n.t0 instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1);case 22:case"end":return n.stop()}},n,this,[[13,19]])})),function(){return n.apply(this,arguments)})},{key:"abortListening",value:(t=c(regeneratorRuntime.mark(function n(){var t=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.disconnect("ABORT"),this.emitListeningChange(!1),n.next=4,new Promise(function(n){t.onStopListening=n});case 4:case"end":return n.stop()}},n,this)})),function(){return t.apply(this,arguments)})},{key:"stopListening",value:(e=c(regeneratorRuntime.mark(function n(){var t=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.disconnect("STOP"),this.emitListeningChange(!1),n.next=4,new Promise(function(n){t.onStopListening=n});case 4:case"end":return n.stop()}},n,this)})),function(){return e.apply(this,arguments)})},{key:"getRecognition",value:function(){return this.recognition}},{key:"start",value:(i=c(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(this.recognition&&!this.listening)){n.next=4;break}return n.next=3,this.recognition.start();case 3:this.listening=!0;case 4:case"end":return n.stop()}},n,this)})),function(){return i.apply(this,arguments)})},{key:"stop",value:function(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}},{key:"abort",value:function(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}}],u(p.prototype,a),l&&u(p,l),p}();t.default=l},5924:function(n,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.useSpeechRecognition=void 0;var i,r,o,s,a=e(7294),c=e(1665),u=e(3697),l=e(8911),p=g(e(4099)),f=g(e(1983)),h=g(e(9154));function g(n){return n&&n.__esModule?n:{default:n}}function d(n,t,e,i,r,o,s){try{var a=n[o](s),c=a.value}catch(n){e(n);return}a.done?t(c):Promise.resolve(c).then(i,r)}function v(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function s(n){d(o,i,r,s,a,"next",n)}function a(n){d(o,i,r,s,a,"throw",n)}s(void 0)})}}function b(n){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function m(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var e=[],i=!0,r=!1,o=void 0;try{for(var s,a=n[Symbol.iterator]();!(i=(s=a.next()).done)&&(e.push(s.value),!t||e.length!==t);i=!0);}catch(n){r=!0,o=n}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return e}}(n,t)||y(n,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(n,t){if(n){if("string"==typeof n)return T(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return T(n,t)}}function T(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,i=Array(t);e<t;e++)i[e]=n[e];return i}var R=!!h.default,w=R&&!(0,f.default)();t.useSpeechRecognition=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.transcribing,e=void 0===t||t,i=n.clearTranscriptOnListen,r=void 0===i||i,o=n.commands,s=void 0===o?[]:o,p=m((0,a.useState)(S.getRecognitionManager()),1)[0],f=m((0,a.useState)(R),2),h=f[0],g=f[1],d=m((0,a.useState)(w),2),v=d[0],C=d[1],k=m((0,a.useReducer)(l.transcriptReducer,{interimTranscript:p.interimTranscript,finalTranscript:""}),2),A=k[0],P=A.interimTranscript,L=A.finalTranscript,E=k[1],M=m((0,a.useState)(p.listening),2),O=M[0],x=M[1],_=m((0,a.useState)(p.isMicrophoneAvailable),2),j=_[0],D=_[1],N=(0,a.useRef)(s);N.current=s;var I=function(){E((0,u.clearTranscript)())},F=(0,a.useCallback)(function(){p.resetTranscript(),I()},[p]),z=function(n,t,e){var i=("object"===b(n)?n.toString():n).replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),r=(0,c.compareTwoStringsUsingDiceCoefficient)(i,t);return r>=e?{command:n,commandWithoutSpecials:i,howSimilar:r,isFuzzyMatch:!0}:null},W=function(n,t){var e=(0,c.commandToRegExp)(n).exec(t);return e?{command:n,parameters:e.slice(1)}:null},B=(0,a.useCallback)(function(n,t){N.current.forEach(function(e){var i=e.command,r=e.callback,o=e.matchInterim,s=e.isFuzzyMatch,a=void 0!==s&&s,c=e.fuzzyMatchingThreshold,u=void 0===c?.8:c,l=e.bestMatchOnly,p=!t&&void 0!==o&&o?n.trim():t.trim(),f=(Array.isArray(i)?i:[i]).map(function(n){return a?z(n,p,u):W(n,p)}).filter(function(n){return n});if(a&&void 0!==l&&l&&f.length>=2){f.sort(function(n,t){return t.howSimilar-n.howSimilar});var h=f[0],g=h.command;r(h.commandWithoutSpecials,p,h.howSimilar,{command:g,resetTranscript:F})}else f.forEach(function(n){if(n.isFuzzyMatch){var t=n.command;r(n.commandWithoutSpecials,p,n.howSimilar,{command:t,resetTranscript:F})}else{var e=n.command,i=n.parameters;r.apply(void 0,((function(n){if(Array.isArray(n))return T(n)})(i)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(i)||y(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([{command:e,resetTranscript:F}]))}})})},[F]),$=(0,a.useCallback)(function(n,t){e&&E((0,u.appendTranscript)(n,t)),B(n,t)},[B,e]),U=(0,a.useCallback)(function(){r&&I()},[r]);return(0,a.useEffect)(function(){var n=S.counter;return S.counter+=1,p.subscribe(n,{onListeningChange:x,onMicrophoneAvailabilityChange:D,onTranscriptChange:$,onClearTranscript:U,onBrowserSupportsSpeechRecognitionChange:g,onBrowserSupportsContinuousListeningChange:C}),function(){p.unsubscribe(n)}},[e,r,p,$,U]),{transcript:(0,c.concatTranscripts)(L,P),interimTranscript:P,finalTranscript:L,listening:O,isMicrophoneAvailable:j,resetTranscript:F,browserSupportsSpeechRecognition:h,browserSupportsContinuousListening:v}};var S={counter:0,applyPolyfill:function(n){s?s.setSpeechRecognition(n):s=new p.default(n);var t=!!n&&(0,c.browserSupportsPolyfills)();R=t,w=t},removePolyfill:function(){s?s.setSpeechRecognition(h.default):s=new p.default(h.default),w=(R=!!h.default)&&!(0,f.default)()},getRecognitionManager:function(){return s||(s=new p.default(h.default)),s},getRecognition:function(){return S.getRecognitionManager().getRecognition()},startListening:(i=v(regeneratorRuntime.mark(function n(){var t,e,i,r,o=arguments;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(t=o.length>0&&void 0!==o[0]?o[0]:{}).continuous,i=t.language,r=S.getRecognitionManager(),n.next=4,r.startListening({continuous:e,language:i});case 4:case"end":return n.stop()}},n)})),function(){return i.apply(this,arguments)}),stopListening:(r=v(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=S.getRecognitionManager(),n.next=3,t.stopListening();case 3:case"end":return n.stop()}},n)})),function(){return r.apply(this,arguments)}),abortListening:(o=v(regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=S.getRecognitionManager(),n.next=3,t.abortListening();case 3:case"end":return n.stop()}},n)})),function(){return o.apply(this,arguments)}),browserSupportsSpeechRecognition:function(){return R},browserSupportsContinuousListening:function(){return w}};t.default=S},3697:function(n,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.appendTranscript=t.clearTranscript=void 0;var i=e(266);t.clearTranscript=function(){return{type:i.CLEAR_TRANSCRIPT}},t.appendTranscript=function(n,t){return{type:i.APPEND_TRANSCRIPT,payload:{interimTranscript:n,finalTranscript:t}}}},266:function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.APPEND_TRANSCRIPT=t.CLEAR_TRANSCRIPT=void 0,t.CLEAR_TRANSCRIPT="CLEAR_TRANSCRIPT",t.APPEND_TRANSCRIPT="APPEND_TRANSCRIPT"},2515:function(n,t,e){function i(n){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}Object.defineProperty(t,"x6",{enumerable:!0,get:function(){return r.useSpeechRecognition}}),t.ZP=void 0;var r=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==i(n)&&"function"!=typeof n)return{default:n};var t=o();if(t&&t.has(n))return t.get(n);var e={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var a=r?Object.getOwnPropertyDescriptor(n,s):null;a&&(a.get||a.set)?Object.defineProperty(e,s,a):e[s]=n[s]}return e.default=n,t&&t.set(n,e),e}(e(5924));function o(){if("function"!=typeof WeakMap)return null;var n=new WeakMap;return o=function(){return n},n}var s=r.default;t.ZP=s},1983:function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(){return/(android)/i.test("undefined"!=typeof navigator?navigator.userAgent:"")}},8911:function(n,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.transcriptReducer=void 0;var i=e(266),r=e(1665);t.transcriptReducer=function(n,t){switch(t.type){case i.CLEAR_TRANSCRIPT:return{interimTranscript:"",finalTranscript:""};case i.APPEND_TRANSCRIPT:return{interimTranscript:t.payload.interimTranscript,finalTranscript:(0,r.concatTranscripts)(n.finalTranscript,t.payload.finalTranscript)};default:throw Error()}}},1665:function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.browserSupportsPolyfills=t.compareTwoStringsUsingDiceCoefficient=t.commandToRegExp=t.concatTranscripts=t.debounce=void 0,t.debounce=function(n,t,e){var i;return function(){var r=this,o=arguments,s=e&&!i;clearTimeout(i),i=setTimeout(function(){i=null,e||n.apply(r,o)},t),s&&n.apply(r,o)}},t.concatTranscripts=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];return t.map(function(n){return n.trim()}).join(" ").trim()};var e=/\s*\((.*?)\)\s*/g,i=/(\(\?:[^)]+\))\?/g,r=/(\(\?)?:\w+/g,o=/\*/g,s=/[-{}[\]+?.,\\^$|#]/g;t.commandToRegExp=function(n){return n instanceof RegExp?RegExp(n.source,"i"):RegExp("^"+(n=n.replace(s,"\\$&").replace(e,"(?:$1)?").replace(r,function(n,t){return t?n:"([^\\s]+)"}).replace(o,"(.*?)").replace(i,"\\s*$1?\\s*"))+"$","i")},t.compareTwoStringsUsingDiceCoefficient=function(n,t){if(n=n.replace(/\s+/g,"").toLowerCase(),t=t.replace(/\s+/g,"").toLowerCase(),!n.length&&!t.length)return 1;if(!n.length||!t.length)return 0;if(n===t)return 1;if(1===n.length&&1===t.length||n.length<2||t.length<2)return 0;for(var e=new Map,i=0;i<n.length-1;i++){var r=n.substring(i,i+2),o=e.has(r)?e.get(r)+1:1;e.set(r,o)}for(var s=0,a=0;a<t.length-1;a++){var c=t.substring(a,a+2),u=e.has(c)?e.get(c):0;u>0&&(e.set(c,u-1),s++)}return 2*s/(n.length+t.length-2)},t.browserSupportsPolyfills=function(){return"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.mediaDevices&&void 0!==window.navigator.mediaDevices.getUserMedia&&(void 0!==window.AudioContext||void 0!==window.webkitAudioContext)}}}]);