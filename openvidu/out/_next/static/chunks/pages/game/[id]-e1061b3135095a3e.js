(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8],{99:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/[id]",function(){return s(6061)}])},1674:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return l}});var t=s(5893),i=s(7294),c=s(1211),a=s.n(c);function l(e){let{pin:n,cellObj:s,currentCellObj:c}=e,l=(0,i.useRef)(null),[r,o]=(0,i.useState)({top:0,left:0}),d={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19,twenty:20,twentyone:21,twentytwo:22,twentythree:23,twentyfour:24};for(let e in d)"E"===s[e]?s[e]="#008000":"G"===s[e]?s[e]="#FFD400":"B"===s[e]?s[e]="#FF6000":"P"===s[e]?s[e]="#0000FF":"M"===s[e]&&(s[e]="#FFFFFF");return(0,i.useEffect)(()=>{let e=l.current;if(e){let n=e.getBoundingClientRect();o({top:n.top-80,left:n.left-30})}},[n]),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:a().board,children:(0,t.jsxs)("div",{className:a().board_wrapper,children:[(0,t.jsx)("div",{style:{backgroundColor:"black"},children:18==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.eighteen)},children:17==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.seventeen)},children:16==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.sixteen)},children:15==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.fifteen)},children:14==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.fourteen)},children:13==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"black"},children:12==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.twenty)},children:19==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.twelve)},children:11==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.twentyone)},children:20==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.eleven)},children:10==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.twentytwo)},children:21==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.ten)},children:9==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.twentythree)},children:22==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.nine)},children:8==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.twentyfour)},children:23==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{className:"".concat(a().invisible)}),(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.eight)},children:7==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"black"},children:0==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.two)},children:1==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.three)},children:2==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.four)},children:3==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.five)},children:4==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"".concat(s.six)},children:5==n?(0,t.jsx)("div",{ref:l}):null})," ",(0,t.jsx)("div",{style:{backgroundColor:"black"},children:6==n?(0,t.jsx)("div",{ref:l}):null})," "]})}),(0,t.jsx)("img",{src:"/character.png",style:{height:"80px",position:"absolute",transition:"top 1s ease, left 1s ease",...r}})]})}},84:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return a}});var t=s(5893);s(7294);var i=s(4688),c=s.n(i);function a(e){let{face:n}=e;return(0,t.jsx)("div",{className:c().customDice,children:(0,t.jsx)("div",{className:c().dice_inner,children:(0,t.jsxs)("div",{className:c()["dice_face".concat(n)],children:[(0,t.jsx)("div",{className:c().face1,style:{transform:"rotateY(0deg) translateZ(".concat(30,"px)")},children:(0,t.jsx)("img",{src:"/1.png",style:{width:"60px"}})}),(0,t.jsx)("div",{className:c().face2,style:{transform:"rotateY(90deg) translateZ(".concat(30,"px)")},children:(0,t.jsx)("img",{src:"/2.png",style:{width:"60px"}})}),(0,t.jsx)("div",{className:c().face3,style:{transform:"rotateX(90deg) translateZ(".concat(30,"px)")},children:(0,t.jsx)("img",{src:"/3.png",style:{width:"60px"}})}),(0,t.jsx)("div",{className:c().face4,style:{transform:"rotateX(270deg) translateZ(".concat(30,"px)")},children:(0,t.jsx)("img",{src:"/4.png",style:{width:"60px"}})}),(0,t.jsx)("div",{className:c().face5,style:{transform:"rotateY(270deg) translateZ(".concat(30,"px)")},children:(0,t.jsx)("img",{src:"/5.png",style:{width:"60px"}})}),(0,t.jsx)("div",{className:c().face6,style:{transform:"rotateY(180deg) translateZ(".concat(30,"px)")},children:(0,t.jsx)("img",{src:"/6.png",style:{width:"60px"}})})]})})})}},7272:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return r}});var t=s(5893),i=s(7294),c=s(84),a=s(9843),l=s.n(a);function r(e){let{dice:n}=e,s=(0,i.useRef)(null);return(0,t.jsx)("section",{className:l().diceBox,ref:s,children:(0,t.jsx)("div",{className:l().dice_wrap,children:(0,t.jsx)(c.default,{face:n})})})}},5748:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return o}});var t=s(5893),i=s(7294),c=s(1664),a=s.n(c),l=s(9197),r=s.n(l);function o(){let[e,n]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(e)},[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"".concat(r().gameOver," ").concat(e?r().visible:""),style:{textAlign:"center",top:"-5%",fontSize:"24px",zIndex:"5",width:"800px",height:"450px",background:"#A1824F",position:"absolute",left:"50%",transform:"translate(-50%, 50%)",borderRadius:"30px"},children:[(0,t.jsx)("img",{src:"/close.png"}),(0,t.jsx)("h2",{children:"게임이 종료되었습니다."}),(0,t.jsx)("br",{}),(0,t.jsx)(a(),{href:"/",children:(0,t.jsx)("img",{src:"/START.png"})})]})})}},6061:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return k}});var t=s(2729),i=s(5893),c=s(7294),a=s(1163),l=s(7272),r=s(1674),o=s(9318),d=s(7337),u=s(3054),v=s(9197),x=s.n(v),f=s(4533),m=s.n(f),j=s(508),g=s(8e3),_=s.n(g),h=s(4593),p=s(1649),b=s(5748);function y(){let e=(0,t._)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.8); /* Apply the opacity here */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return y=function(){return e},e}let N=j.zo.div(y());function k(){(0,a.useRouter)();let e=(0,p.v9)(e=>e.openvidu.session),n=(0,p.v9)(e=>e.player.currentNick),s=(0,p.v9)(e=>e.openvidu.publisher),t=(0,p.v9)(e=>e.openvidu.participants);(0,p.v9)(e=>e.player.currentPlayerId);let v=(0,p.v9)(e=>e.room.currentRoomId),[f,j]=(0,c.useState)(0),[g,y]=(0,c.useState)(0),[k,w]=(0,c.useState)(0),[C,S]=(0,c.useState)({}),[D,F]=(0,c.useState)(""),[M,P]=(0,c.useState)(!1),[R,E]=(0,c.useState)(0),[G,T]=(0,c.useState)(!1),[A,I]=(0,c.useState)(!1),[O,B]=(0,c.useState)(0),[z,J]=(0,c.useState)(0),[L,Z]=(0,c.useState)(""),[X,V]=(0,c.useState)(0),Y=(0,p.v9)(e=>e.cell.currentBoard),H=(0,p.v9)(e=>e.players.tmpPlayers),U=(0,p.v9)(e=>e.cell.turns),W=(0,p.v9)(e=>e.player.currentPlayerId);console.log(Y);let q={one:Y[0].status,two:Y[1].status,three:Y[2].status,four:Y[3].status,five:Y[4].status,six:Y[5].status,seven:Y[6].status,eight:Y[7].status,nine:Y[8].status,ten:Y[9].status,eleven:Y[10].status,twelve:Y[11].status,thirteen:Y[12].status,fourteen:Y[13].status,fifteen:Y[14].status,sixteen:Y[15].status,seventeen:Y[16].status,eighteen:Y[17].status,nineteen:Y[18].status,twenty:Y[19].status,twentyone:Y[20].status,twentytwo:Y[21].status,twentythree:Y[22].status,twentyfour:Y[23].status},K=()=>{C.current=h.L.over(()=>{let e=new(_())("https://ohogame.shop/ws");return e}),C.current.debug=()=>{}},Q=e=>{console.log("또 호출해"),console.log("MOVE: "+e),C.current.send("/move/"+v,{},JSON.stringify({set:!0,move:e}))},$=()=>{C.current.connect({},()=>{C.current.subscribe("/topic/move/".concat(v),e=>{console.log("response",e);let s=JSON.parse(e.body);console.log("currentCell.move------>",s.cell.move),console.log("position",s),j(s.game.dice),y(s.game.pin),w(s.game.lab),F(s.cell.name),en(),0!==parseInt(s.cell.move)&&(parseInt(s.cell.move),1)&&(Q(s.cell.move),"페이스 필터 벌칙"==s.cell.name&&ee(n),("두더지 게임"==s.cell.name||"라이어 게임"==s.cell.name||"훈민정음"==s.cell.name)&&T(!0))}),C.current.subscribe("/topic/penalty/".concat(v),e=>{console.log("페이스필터다"),console.log(e);let n=JSON.parse(e);Z(n.nickname),V(n.num)})})},ee=e=>{C.current.send("/penalty/"+v,{},JSON.stringify({nickname:e}))};(0,c.useEffect)(()=>{K(),$(),console.log("setTurns확인!!!!!!!!",U)},[]);let en=()=>{setTimeout(()=>{P(!0)},1e3),setTimeout(()=>{P(!1)},3e3)};(0,c.useEffect)(()=>{B(e=>(e+1)%4),console.log("내 ID",W),console.log("내 닉네임",H[W]),J(e=>e+1),console.log("cntDice------->",z)},[g]);let es={"한 칸 앞으로 이동":"","한 칸 뒤로 이동":"","두 칸 앞으로 이동":"","벌칙 제거 (없으면 까비)":"","한 턴 영어 금지":"영어금지","한 턴 안주 금지":"안주금지","목소리 변조 벌칙":"목소리","페이스 필터 벌칙":"필터","걸린 사람 빼고 원샷":"원샷",원샷:"원샷",건배사:"건배사","물 1L 마시기":"1L","한 명 지목해서 같이 원샷":"원샷","코끼리코 52바퀴":"코끼리코","웃긴 썰 풀기":"웃썰",파워댄스:"댄스","카메라에 뽀뽀":"뽀뽀","다 함께 원샷":"원샷",성대모사:"성대모사","지금 바로 한잔 마시기":"한잔"}[D],et=(0,c.useMemo)(()=>null!==L?L===n?(0,i.jsx)(u.default,{className:x().cam,streamManager:s,num:X}):(0,i.jsx)(d.default,{className:x().cam,streamManager:s}):null,[L,X]),ei=(0,c.useMemo)(()=>null!==L?L===t[0].nick?(0,i.jsx)(u.default,{className:x().cam,streamManager:s,num:X}):(0,i.jsx)(d.default,{className:x().cam,streamManager:t[0].participant}):null,[L,X]),ec=(0,c.useMemo)(()=>null!==L?L===t[1].nick?(0,i.jsx)(u.default,{className:x().cam,streamManager:s,num:X}):(0,i.jsx)(d.default,{className:x().cam,streamManager:t[1].participant}):null,[L,X]),ea=(0,c.useMemo)(()=>null!==L?L===t[2].nick?(0,i.jsx)(u.default,{className:x().cam,streamManager:s,num:X}):(0,i.jsx)(d.default,{className:x().cam,streamManager:t[2].participant}):null,[L,X]);return(0,c.useEffect)(()=>{"두더지 게임"==D||"라이어 게임"==D||"훈민정음"==D?I(!0):I(!1)},[D]),(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:x().container,children:[(0,i.jsxs)("nav",{className:x().infobar,children:[(0,i.jsxs)("h5",{children:["주사위 눈 : ",f,", 현재 ",g,"번 블록, ",k,"바퀴 째"]}),(0,i.jsxs)("h5",{children:[" ",H[U[O]].nickname,"님의 차례입니다."]})]}),A&&(0,i.jsx)("div",{style:{textAlign:"center",visibility:"hidden"},children:(0,i.jsx)("button",{className:x().btnRolling,style:{zIndex:"0",visibility:U[O]!==W?"hidden":"visible"},value:"innerHTML",onClick:()=>{C.current.send("/move/"+v,{},JSON.stringify({set:!1}))},children:"주사위 굴리기"})}),!A&&(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)("button",{className:x().btnRolling,style:{zIndex:"0",visibility:U[O]!==W?"hidden":"visible"},value:"innerHTML",onClick:()=>{C.current.send("/move/"+v,{},JSON.stringify({set:!1}))},children:"주사위 굴리기"})}),void 0!==e?(0,i.jsx)("div",{id:"session",children:(0,i.jsxs)("div",{id:"video-container",className:x().grid_container,children:[void 0!==s?(0,i.jsxs)("span",{className:m().streamcomponent,style:{marginLeft:"50px",gridArea:"cam1"},children:[et,(0,i.jsx)("div",{className:m().nickname,children:n})]}):null,null!=t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:m().streamcomponent,style:{marginRight:"50px",gridArea:"cam".concat(2)},children:[ei,(0,i.jsx)("div",{className:m().nickname,children:t[0].nick})]}),(0,i.jsxs)("span",{className:m().streamcomponent,style:{marginLeft:"50px",gridArea:"cam".concat(3)},children:[ec,(0,i.jsx)("div",{className:m().nickname,children:t[1].nick})]}),(0,i.jsxs)("span",{className:m().streamcomponent,style:{marginRight:"50px",gridArea:"cam".concat(4)},children:[ea,(0,i.jsx)("div",{className:m().nickname,children:t[2].nick})]})]}):null]})}):null,(0,i.jsx)("div",{children:"두더지 게임"==D||"라이어 게임"==D||"훈민정음"==D?(0,i.jsx)(o.default,{currentCell:D}):(0,i.jsxs)("div",{children:[z>=22&&"두더지 게임"!==D&&"라이어 게임"!==D&&"훈민정음"!==D&&(0,i.jsx)(b.default,{}),(0,i.jsx)(l.default,{dice:f}),(0,i.jsx)(r.default,{pin:g,cellObj:q})]})}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(e=>{let{currentCell:n,pin:s}=e;return(0,i.jsx)(i.Fragment,{children:M&&(0,i.jsxs)(N,{style:{animation:"fadeIn 2s"},children:[(0,i.jsx)("p",{children:es&&(0,i.jsx)("img",{style:{width:"400px"},src:"/cell/".concat(es,".gif")})}),(0,i.jsx)("p",{style:{fontFamily:"LeeSeoyun",fontSize:"50px",color:"#FFFFFF"},children:n})]})})},{currentCell:D,pin:g})})]})})}},3054:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return l}});var t=s(5893),i=s(7294),c=s(4533),a=s.n(c);function l(e){let n=i.createRef();return e.num,(0,i.useRef)(null),(0,i.useEffect)(()=>{e&&n&&(console.log("오픈비두 변화"),e.streamManager.addVideoElement(n.current))}),(0,t.jsx)("div",{children:(0,t.jsx)("video",{autoPlay:!0,ref:n,className:a().videofilter})})}},7337:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return l}});var t=s(5893),i=s(7294),c=s(4533),a=s.n(c);function l(e){let n=i.createRef();return(0,i.useEffect)(()=>{e&&n&&e.streamManager.addVideoElement(n.current)}),(0,t.jsx)("div",{children:(0,t.jsx)("video",{autoPlay:!0,ref:n,className:a().videofilter})})}},1211:function(e){e.exports={board:"ActiveMap_board__M9my6",board_wrapper:"ActiveMap_board_wrapper__eD_7i",invisible:"ActiveMap_invisible__XGJyA"}},4688:function(e){e.exports={customDice:"Dice_customDice__gj9Tc",dice_inner:"Dice_dice_inner__OeDHS",dice_face1:"Dice_dice_face1__TvWDk",dice_face2:"Dice_dice_face2__SjW3F",dice_face3:"Dice_dice_face3__Yh0_U",dice_face4:"Dice_dice_face4__43q9G",dice_face5:"Dice_dice_face5__rGl3u",dice_face6:"Dice_dice_face6__HLpGp",face1:"Dice_face1__KzjiB",face2:"Dice_face2__BozPt",face3:"Dice_face3__RRqja",face4:"Dice_face4__kWB3_",face5:"Dice_face5__5u6_j",face6:"Dice_face6__dJClk"}},9843:function(e){e.exports={diceBox:"DiceBox_diceBox__yyYrV"}},9197:function(e){e.exports={container:"GamePage_container__IujHP",infobar:"GamePage_infobar__TXuT0",btnRolling:"GamePage_btnRolling__GNSZN",gameOver:"GamePage_gameOver__YGnoX",visible:"GamePage_visible__6QPj_",grid_container:"GamePage_grid_container__HzKGJ",cam:"GamePage_cam__C0ix3",fadeIn:"GamePage_fadeIn__erfZ6"}},4533:function(e){e.exports={streamcomponent:"UserVideo_streamcomponent__72vDQ",nickname:"UserVideo_nickname__IX3Tw",videofilter:"UserVideo_videofilter__Ua11Z"}}},function(e){e.O(0,[154,515,894,664,313,318,774,888,179],function(){return e(e.s=99)}),_N_E=e.O()}]);